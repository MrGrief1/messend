<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - GlassChat</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
</head>
<body data-theme="dark" class="auth-page">
    <div class="auth-background">
        <div class="auth-orb orb-primary"></div>
        <div class="auth-orb orb-accent"></div>
        <div class="auth-grid"></div>
    </div>

    <div class="auth-layout">
        <aside class="auth-showcase enhanced-glass" aria-label="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π GlassChat">
            <div class="auth-brand">
                <div class="brand-icon">M</div>
                <div class="brand-copy">
                    <h1>GlassChat Next</h1>
                    <p>–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º —Å—Ç–µ–∫–ª–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –∑–≤–æ–Ω–∫–æ–≤.</p>
                </div>
            </div>

            <div class="auth-metrics">
                <div class="metric-chip">
                    <span class="material-icons-round" aria-hidden="true">shield</span>
                    –°–∫–≤–æ–∑–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                </div>
                <div class="metric-chip">
                    <span class="material-icons-round" aria-hidden="true">groups</span>
                    –í–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –¥–æ 32 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
                </div>
                <div class="metric-chip">
                    <span class="material-icons-round" aria-hidden="true">brush</span>
                    –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç–µ–º—ã –∏ –Ω–æ—á–Ω–æ–π —Ä–µ–∂–∏–º
                </div>
            </div>

            <div class="auth-feature-grid">
                <article class="feature-card glass">
                    <header>
                        <span class="material-icons-round" aria-hidden="true">forum</span>
                        <h2>–ó–≤–æ–Ω–∫–∏ –∏ —á–∞—Ç—ã</h2>
                    </header>
                    <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã, –≥—Ä—É–ø–ø–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã –∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∏ –æ–¥–Ω–∏–º –∫–∞—Å–∞–Ω–∏–µ–º.</p>
                </article>
                <article class="feature-card glass">
                    <header>
                        <span class="material-icons-round" aria-hidden="true">poll</span>
                        <h2>–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ</h2>
                    </header>
                    <p>–û–±—â–∏–µ –∑–∞–º–µ—Ç–∫–∏, –æ–ø—Ä–æ—Å—ã –∏ —Ä–µ–∞–∫—Ü–∏–∏ –ø–æ–º–æ–≥–∞—é—Ç –∫–æ–º–∞–Ω–¥–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –±—ã—Å—Ç—Ä–µ–µ.</p>
                </article>
                <article class="feature-card glass">
                    <header>
                        <span class="material-icons-round" aria-hidden="true">palette</span>
                        <h2>–ì–∏–±–∫–∏–π –¥–∏–∑–∞–π–Ω</h2>
                    </header>
                    <p>–ù–æ–≤—ã–π —Ä–µ–∂–∏–º —Å—Ç–µ–∫–ª–∞ —Å –≥–ª—É–±–æ–∫–∏–º –±–ª—é—Ä–æ–º –∏ –∞–∫—Ü–µ–Ω—Ç–∞–º–∏ –≤ —Å—Ç–∏–ª–µ Element –¥–µ–ª–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–¥–µ—Ä–∂–∞–Ω–Ω—ã–º –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º.</p>
                </article>
            </div>

            <footer class="auth-showcase-footer">
                <div>
                    <h3>–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞</h3>
                    <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GlassChat –≤–º–µ—Å—Ç–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –ø–∏—Å–µ–º. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–æ–ª–∏, —Å—Ç–∞—Ç—É—Å—ã –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–¥ —Å–≤–æ–π —Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã.</p>
                </div>
                <ul class="auth-highlights" aria-label="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞">
                    <li><span class="material-icons-round" aria-hidden="true">check_circle</span> PWA –Ω–∞ –ª—é–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö</li>
                    <li><span class="material-icons-round" aria-hidden="true">check_circle</span> –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –±–æ—Ç—ã –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏</li>
                    <li><span class="material-icons-round" aria-hidden="true">check_circle</span> –ò–º–ø–æ—Ä—Ç —á–∞—Ç–æ–≤ Element –∏ Telegram</li>
                </ul>
            </footer>
        </aside>

        <main class="auth-card glass" role="main">
            <div class="auth-card-header">
                <div class="auth-tabs" role="tablist">
                    <button type="button" class="auth-tab active" data-auth-tab="login" role="tab" aria-selected="true">–í—Ö–æ–¥</button>
                    <button type="button" class="auth-tab" data-auth-tab="register" role="tab" aria-selected="false">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                </div>
                <button class="theme-toggle" type="button" id="auth-theme-toggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                    <span class="material-icons-round" aria-hidden="true">dark_mode</span>
                </button>
            </div>

            <section id="login-form" class="auth-form active" data-auth-panel="login" role="tabpanel">
                <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å üëã</h2>
                <p class="form-subtitle">–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –∏ –≤—Å—Ç—Ä–µ—á–∏.</p>
                <label for="login-identifier">@–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ Email</label>
                <div class="input-group with-addon">
                    <span class="material-icons-round" aria-hidden="true">person</span>
                    <input type="text" id="login-identifier" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, @alex" autocomplete="username" required>
                </div>
                <label for="login-password">–ü–∞—Ä–æ–ª—å</label>
                <div class="input-group with-addon">
                    <span class="material-icons-round" aria-hidden="true">lock</span>
                    <input type="password" id="login-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" autocomplete="current-password" required>
                    <button type="button" class="input-addon-btn" data-toggle-password="login-password" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å">
                        <span class="material-icons-round" aria-hidden="true">visibility</span>
                    </button>
                </div>
                <div class="form-actions">
                    <label class="checkbox">
                        <input type="checkbox" id="remember-me">
                        <span>–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è</span>
                    </label>
                    <button type="button" class="link-btn" onclick="showForgotPassword()">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</button>
                </div>
                <button class="primary-btn" onclick="handleLogin()">–í–æ–π—Ç–∏</button>
                <div class="divider" role="presentation"><span>–∏–ª–∏</span></div>
                <button class="secondary-btn" type="button" id="demo-mode">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ–º–æ</button>
                <p class="switch-text">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <button type="button" class="link-btn" data-switch="register">–°–æ–∑–¥–∞—Ç—å</button></p>
            </section>

            <section id="register-form" class="auth-form" data-auth-panel="register" role="tabpanel" hidden>
                <h2>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É</h2>
                <p class="form-subtitle">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —É—á—ë—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –∏ –Ω–∞—á–Ω–∏—Ç–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –∑–≤–æ–Ω–∫–∏ –∑–∞ –º–∏–Ω—É—Ç—ã.</p>
                <label for="register-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                <div class="input-group with-addon">
                    <span class="material-icons-round" aria-hidden="true">alternate_email</span>
                    <input type="text" id="register-username" placeholder="–ë–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –∏ @" autocomplete="nickname" minlength="3" maxlength="32" required>
                </div>
                <p class="input-hint" id="username-hint">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–∞—Ç–∏–Ω–∏—Ü—É, —Ü–∏—Ñ—Ä—ã –∏ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è. –ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞.</p>

                <label for="register-email">Email</label>
                <div class="input-group with-addon">
                    <span class="material-icons-round" aria-hidden="true">mail</span>
                    <input type="email" id="register-email" placeholder="name@example.com" autocomplete="email" required>
                </div>
                <p class="input-hint" id="email-hint">–ú—ã –æ—Ç–ø—Ä–∞–≤–∏–º –ø–∏—Å—å–º–æ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –∏ —Å—Å—ã–ª–∫–æ–π –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è.</p>

                <label for="register-password">–ü–∞—Ä–æ–ª—å</label>
                <div class="input-group with-addon">
                    <span class="material-icons-round" aria-hidden="true">key</span>
                    <input type="password" id="register-password" placeholder="–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤" autocomplete="new-password" required>
                    <button type="button" class="input-addon-btn" data-toggle-password="register-password" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å">
                        <span class="material-icons-round" aria-hidden="true">visibility</span>
                    </button>
                </div>
                <div class="password-strength" aria-live="polite">
                    <div class="password-strength-bar" id="password-strength-bar"></div>
                    <span id="password-strength-label">–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</span>
                </div>

                <label class="checkbox">
                    <input type="checkbox" id="privacy-confirm" required>
                    <span>–Ø –ø—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</span>
                </label>

                <button class="primary-btn" onclick="handleRegister()" id="register-submit" disabled>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                <p class="switch-text">–£–∂–µ —Å –Ω–∞–º–∏? <button type="button" class="link-btn" data-switch="login">–í–æ–π—Ç–∏</button></p>
            </section>

            <div id="message-box" role="status" aria-live="polite"></div>

            <div id="forgot-password-modal" class="modal-overlay" hidden>
                <div class="modal-content glass">
                    <button class="close-btn" type="button" onclick="closeForgotPassword()" aria-label="–ó–∞–∫—Ä—ã—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ">
                        <span class="material-icons-round" aria-hidden="true">close</span>
                    </button>
                    <h2>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞</h2>
                    <p>–í–≤–µ–¥–∏—Ç–µ email, —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ú—ã –æ—Ç–ø—Ä–∞–≤–∏–º –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Å—Å—ã–ª–∫—É.</p>
                    <div class="input-group with-addon">
                        <span class="material-icons-round" aria-hidden="true">mail</span>
                        <input type="email" id="forgot-email" placeholder="–í–∞—à email" required>
                    </div>
                    <div class="modal-actions">
                        <button class="primary-btn" type="button" onclick="handleForgotPassword()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É</button>
                        <button class="secondary-btn" type="button" onclick="closeForgotPassword()">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                    <div id="forgot-message" class="modal-message"></div>
                    <p class="modal-hint">–ü–∏—Å—å–º–æ –º–æ–∂–µ—Ç –ø—Ä–∏–π—Ç–∏ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–æ 5 –º–∏–Ω—É—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É ¬´–°–ø–∞–º¬ª.</p>
                </div>
            </div>
        </main>
    </div>

    <script>
        try {
            const savedTheme = localStorage.getItem('appTheme');
            if (savedTheme) {
                document.body.setAttribute('data-theme', savedTheme);
            }
        } catch (error) {
            console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–º—É –∏–∑ localStorage', error);
        }
    </script>
    <script src="{{ url_for('static', filename='js/auth.js') }}"></script>
</body>
</html>
